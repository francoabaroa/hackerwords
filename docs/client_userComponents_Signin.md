<div id="main">

# Source: client/userComponents/Signin.jsx

<section>

<article>

    /**
     * @file Manages the signin component.
     */

    import React from 'react';
    import { Link, withRouter } from 'react-router';
    import $ from 'jquery';

    const util = require('../util.js');

    /**
     * Creates a new Signin Component.
     * @class
     */

    class Signin extends React.Component {
      constructor(props) {
        super(props);
        this.submitFn = this.submitFn.bind(this);
        this.componentDidMount = this.componentDidMount.bind(this);
        this.onUsernameChange = this.onUsernameChange.bind(this);
        this.onPasswordChange = this.onPasswordChange.bind(this);
        this.state = {
          username: '',
          password: '',
        };
        util.signOut();
      }

      onUsernameChange(event) {
        this.setState({ username: event.target.value });
      }

      onPasswordChange(event) {
        this.setState({ password: event.target.value });
      }

      /** componentDidMount() is invoked immediately after a component is mounted. This adds an event listener for the enter key on submit. If it records an enter, submit the form */

      componentDidMount() {

        /** Makes pressing enter on any input box click submit */
        $('input').each(function () {
          $(this).keypress((e) => {
            if (e.which === 13) {
              $('#signin').click();
            }
          });
        });
      }

      /** This function takes care of the submission process. It gets the values of the username/password and sends them to the server for verification and authentication */

      submitFn() {
        /** Grab username and password values from fields */
        const username = this.state.username;
        const password = this.state.password;

        this.setState({ username:'', password:'' });

        /** Submit username and password for verification */
        $.post({
          url: '/api/signin',
          dataType: 'json',
          data: { username, password },
          success: (data) => {
            console.log('Success!!!!!', data);
            util.storeToken(data);
            this.props.router.push('/');
          },
          error: (error) => {
            console.error(error);
            $('.error').show();
          },
        });
      }

      render() {
        return (
          <div className="signin">
            <h1> HackerWords </h1>
            <div className="signintitle"> Signin </div>
            <label htmlFor="username"> Username </label>
            <input type="text" id="username" name="username" onChange={event => this.onUsernameChange(event)} />
            <label htmlFor="password"> Password </label>
            <input type="password" id="password" name="password" onChange={event => this.onPasswordChange(event)} />
            <input type="button" id="signin" value="Signin" onClick={this.submitFn} />
            Don't have an account?
            <Link to="/signup"> Sign up here</Link>
            <h2 className="error"> Invalid user or password! </h2>
          </div>
        );
      }
    }

    export default withRouter(Signin, { withRef: true });

</article>

</section>

</div>

<nav>

## [Home](index.html)

### Modules

*   [Authentication Utility Client-Side Functions](module-Authentication%2520Utility%2520Client-Side%2520Functions.html)
*   [Authentication Utility Server-Side Functions](module-Authentication%2520Utility%2520Server-Side%2520Functions.html)
*   [Board](module-Board.html)
*   [Board Tools Functions](module-Board%2520Tools%2520Functions.html)
*   [Game Model](module-Game%2520Model.html)
*   [Middleware](module-Middleware.html)
*   [Played Words](module-Played%2520Words.html)
*   [Router](module-Router.html)
*   [Score](module-Score.html)
*   [Server](module-Server.html)
*   [User Controller](module-User%2520Controller.html)
*   [User Model](module-User%2520Model.html)

### Classes

*   [App](App.html)
*   [Challenges](Challenges.html)
*   [GameHistory](GameHistory.html)
*   [Lobby](Lobby.html)
*   [Players](Players.html)
*   [Signin](Signin.html)
*   [Signup](Signup.html)

</nav>

<footer>Documentation generated by [JSDoc 3.4.2](https://github.com/jsdoc3/jsdoc) on Sun Oct 30 2016 18:04:20 GMT-0700 (PDT)</footer>

<script>prettyPrint();</script>